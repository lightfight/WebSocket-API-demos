## Huobi-WebSocket-Java-Demo

使用`netty websocket client`实现对`huobi api`的订阅，实时读取api数据

## 测试类WebSocketClientTest

```java

@Test
    public void connect() throws Exception {

        final String url = "ws://api.huobi.pro:80/ws";
        final WebSocketClient client = new WebSocketClient(url);
        client.open();

        // ## 发送string
        JSONObject sub = new JSONObject();
        sub.put("sub", "market.btcusdt.kline.1min");
        sub.put("id", "id1000");
        client.sendText(sub.toString());

        // ## 阻塞住线程
        CountDownLatch latch = new CountDownLatch(1);
        latch.await();
    }

```

## 返回数据


```json

{"ping":1530503899515}
{"pong":1530503899515}
{"ch":"market.btcusdt.kline.1min","ts":1530503900165,"tick":{"id":1530503880,"open":6347.990000000000000000,"close":6346.030000000000000000,"low":6345.570000000000000000,"high":6348.500000000000000000,"amount":1.166956706132642201,"vol":7406.952659879999990603920000000000000000,"count":40}}
{"ch":"market.btcusdt.kline.1min","ts":1530503901177,"tick":{"id":1530503880,"open":6347.990000000000000000,"close":6346.480000000000000000,"low":6345.570000000000000000,"high":6348.500000000000000000,"amount":1.193456706132642201,"vol":7575.134379879999990603920000000000000000,"count":42}}
{"ch":"market.btcusdt.kline.1min","ts":1530503901918,"tick":{"id":1530503880,"open":6347.990000000000000000,"close":6345.600000000000000000,"low":6345.570000000000000000,"high":6348.500000000000000000,"amount":1.287056706132642201,"vol":8169.097540879999990603920000000000000000,"count":46}}
{"ch":"market.btcusdt.kline.1min","ts":1530503902847,"tick":{"id":1530503880,"open":6347.990000000000000000,"close":6347.870000000000000000,"low":6345.570000000000000000,"high":6348.500000000000000000,"amount":1.379540456798613621,"vol":8756.172367219999988479320000000000000000,"count":47}}
{"ch":"market.btcusdt.kline.1min","ts":1530503903474,"tick":{"id":1530503880,"open":6347.990000000000000000,"close":6347.220000000000000000,"low":6345.570000000000000000,"high":6348.500000000000000000,"amount":1.381540456798613621,"vol":8768.867457219999988479320000000000000000,"count":49}}
{"ch":"market.btcusdt.kline.1min","ts":1530503903842,"tick":{"id":1530503880,"open":6347.990000000000000000,"close":6347.220000000000000000,"low":6345.570000000000000000,"high":6348.500000000000000000,"amount":1.382640456798613621,"vol":8775.849399219999988479320000000000000000,"count":50}}
{"ch":"market.btcusdt.kline.1min","ts":1530503904352,"tick":{"id":1530503880,"open":6347.990000000000000000,"close":6347.220000000000000000,"low":6345.570000000000000000,"high":6348.500000000000000000,"amount":1.400140456798613621,"vol":8886.925749219999988479320000000000000000,"count":51}}
{"ping":1530503904515}
{"pong":1530503904515}
{"ch":"market.btcusdt.kline.1min","ts":1530503904871,"tick":{"id":1530503880,"open":6347.990000000000000000,"close":6346.220000000000000000,"low":6345.570000000000000000,"high":6348.500000000000000000,"amount":1.492440456798613621,"vol":9472.697455219999988479320000000000000000,"count":53}}
{"ch":"market.btcusdt.kline.1min","ts":1530503904878,"tick":{"id":1530503880,"open":6347.990000000000000000,"close":6346.220000000000000000,"low":6345.570000000000000000,"high":6348.500000000000000000,"amount":1.492440456798613621,"vol":9472.697455219999988479320000000000000000,"count":53}}
{"ch":"market.btcusdt.kline.1min","ts":1530503905351,"tick":{"id":1530503880,"open":6347.990000000000000000,"close":6347.820000000000000000,"low":6345.570000000000000000,"high":6348.500000000000000000,"amount":1.493940456798613621,"vol":9482.219185219999988479320000000000000000,"count":54}}
{"ch":"market.btcusdt.kline.1min","ts":1530503906394,"tick":{"id":1530503880,"open":6347.990000000000000000,"close":6347.820000000000000000,"low":6345.570000000000000000,"high":6348.500000000000000000,"amount":1.586035091269975442,"vol":10066.819347809999983059540000000000000000,"count":55}}
{"ch":"market.btcusdt.kline.1min","ts":1530503906394,"tick":{"id":1530503880,"open":6347.990000000000000000,"close":6347.820000000000000000,"low":6345.570000000000000000,"high":6348.500000000000000000,"amount":1.586035091269975442,"vol":10066.819347809999983059540000000000000000,"count":55}}
{"ch":"market.btcusdt.kline.1min","ts":1530503907448,"tick":{"id":1530503880,"open":6347.990000000000000000,"close":6346.220000000000000000,"low":6345.570000000000000000,"high":6348.500000000000000000,"amount":1.616835091269975442,"vol":10262.311531809999983059540000000000000000,"count":57}}
{"ch":"market.btcusdt.kline.1min","ts":1530503908081,"tick":{"id":1530503880,"open":6347.990000000000000000,"close":6346.220000000000000000,"low":6345.570000000000000000,"high":6348.500000000000000000,"amount":1.708735091269975442,"vol":10845.529149809999983059540000000000000000,"count":58}}
{"ch":"market.btcusdt.kline.1min","ts":1530503908086,"tick":{"id":1530503880,"open":6347.990000000000000000,"close":6346.220000000000000000,"low":6345.570000000000000000,"high":6348.500000000000000000,"amount":1.708735091269975442,"vol":10845.529149809999983059540000000000000000,"count":58}}
{"ping":1530503909527}
{"pong":1530503909527}

```
